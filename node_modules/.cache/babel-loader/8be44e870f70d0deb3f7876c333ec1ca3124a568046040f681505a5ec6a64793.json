{"ast":null,"code":"import _regeneratorRuntime from\"/usr/share/caddy/firebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/usr/share/caddy/firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/usr/share/caddy/firebase/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{addDoc,collection}from\"firebase/firestore\";import{db,auth}from\"../firebase-config\";import{useNavigate}from\"react-router-dom\";import styles from'./styles.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreatePost(_ref){var isAuth=_ref.isAuth;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postText=_useState4[0],setPostText=_useState4[1];var postsCollectionRef=collection(db,\"posts\");var navigate=useNavigate();var createPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return addDoc(postsCollectionRef,{title:title,postText:postText,author:{name:auth.currentUser.displayName,id:auth.currentUser.uid}});case 2:navigate(\"/\");case 3:case\"end\":return _context.stop();}}},_callee);}));return function createPost(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(!isAuth){navigate(\"/login\");}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"createPostPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cpContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Review Matthew's Pet Services\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Pet's Name:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Name...\",onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Post:\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Share experience...\",onChange:function onChange(event){setPostText(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createPost,children:\" Submit Post\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.home,children:[\"~\",/*#__PURE__*/_jsx(\"br\",{}),\"\\\"Here For All Your Four-Legged Friend's Needs\\\"\",/*#__PURE__*/_jsx(\"br\",{}),\"~\"]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.footer,children:[\"Utilized with \",/*#__PURE__*/_jsx(\"em\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/tuftsm/pets.git\",target:\"_blank\",children:\"Github Repo\"})}),\"\\u2003\\u2003\\u2003 All non-Matthew images licensed for use with \",/*#__PURE__*/_jsx(\"em\",{children:\"Creative Commons\"}),\" licensing. The creator of this website does not claim to own any non-Matthew images.\",/*#__PURE__*/_jsx(\"br\",{})]})]});}export default CreatePost;","map":{"version":3,"names":["React","useState","useEffect","addDoc","collection","db","auth","useNavigate","styles","CreatePost","isAuth","title","setTitle","postText","setPostText","postsCollectionRef","navigate","createPost","author","name","currentUser","displayName","id","uid","event","target","value","home","footer"],"sources":["/usr/share/caddy/firebase/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { addDoc, collection } from \"firebase/firestore\";\nimport { db, auth } from \"../firebase-config\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from './styles.module.css';\n\nfunction CreatePost({ isAuth }) {\n  const [title, setTitle] = useState(\"\");\n  const [postText, setPostText] = useState(\"\");\n\n  const postsCollectionRef = collection(db, \"posts\");\n  let navigate = useNavigate();\n\n  const createPost = async () => {\n    await addDoc(postsCollectionRef, {\n      title,\n      postText,\n      author: { name: auth.currentUser.displayName, id: auth.currentUser.uid },\n    });\n    navigate(\"/\");\n  };\n\n  useEffect(() => {\n    if (!isAuth) {\n      navigate(\"/login\");\n    }\n  }, []);\n\n  return (\n    <div>\n    <div className=\"createPostPage\">\n      <div className=\"cpContainer\">\n        <h1>Review Matthew's Pet Services</h1>\n        <div className=\"inputGp\">\n          <label> Pet's Name:</label>\n          <input\n            placeholder=\"Name...\"\n            onChange={(event) => {\n              setTitle(event.target.value);\n            }}\n          />\n        </div>\n        <div className=\"inputGp\">\n          <label> Post:</label>\n          <textarea\n            placeholder=\"Share experience...\"\n            onChange={(event) => {\n              setPostText(event.target.value);\n            }}\n          />\n        </div>\n        <button onClick={createPost}> Submit Post</button>\n      </div>\n    </div>\n                <div className={styles.home}>\n                    ~<br/>\"Here For All Your Four-Legged Friend's Needs\"<br/>~\n                </div>  \n                <div className={styles.footer}>\n                    Utilized with <em><a href=\"https://github.com/tuftsm/pets.git\" target=\"_blank\">Github Repo</a></em>&emsp;&emsp;&emsp;\n                    All non-Matthew images licensed for use with <em>Creative Commons</em> licensing. The creator of this website does not claim to own any non-Matthew images.<br/>\n                </div>   \n                </div>\n  );\n}\n\nexport default CreatePost;"],"mappings":"6VAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,UAAU,KAAQ,oBAAoB,CACvD,OAASC,EAAE,CAAEC,IAAI,KAAQ,oBAAoB,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,OAAM,KAAM,qBAAqB,CAAC,wFAEzC,QAASC,WAAU,MAAa,IAAVC,OAAM,MAANA,MAAM,CAC1B,cAA0BT,QAAQ,CAAC,EAAE,CAAC,wCAA/BU,KAAK,eAAEC,QAAQ,eACtB,eAAgCX,QAAQ,CAAC,EAAE,CAAC,yCAArCY,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,mBAAkB,CAAGX,UAAU,CAACC,EAAE,CAAE,OAAO,CAAC,CAClD,GAAIW,SAAQ,CAAGT,WAAW,EAAE,CAE5B,GAAMU,WAAU,6FAAG,2JACXd,OAAM,CAACY,kBAAkB,CAAE,CAC/BJ,KAAK,CAALA,KAAK,CACLE,QAAQ,CAARA,QAAQ,CACRK,MAAM,CAAE,CAAEC,IAAI,CAAEb,IAAI,CAACc,WAAW,CAACC,WAAW,CAAEC,EAAE,CAAEhB,IAAI,CAACc,WAAW,CAACG,GAAI,CACzE,CAAC,CAAC,QACFP,QAAQ,CAAC,GAAG,CAAC,CAAC,sDACf,kBAPKC,WAAU,2CAOf,CAEDf,SAAS,CAAC,UAAM,CACd,GAAI,CAACQ,MAAM,CAAE,CACXM,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,oCACA,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,aAAK,SAAS,CAAC,aAAa,wBAC1B,qDAAsC,cACtC,aAAK,SAAS,CAAC,SAAS,wBACtB,uCAA2B,cAC3B,cACE,WAAW,CAAC,SAAS,CACrB,QAAQ,CAAE,kBAACQ,KAAK,CAAK,CACnBZ,QAAQ,CAACY,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC9B,CAAE,EACF,GACE,cACN,aAAK,SAAS,CAAC,SAAS,wBACtB,iCAAqB,cACrB,iBACE,WAAW,CAAC,qBAAqB,CACjC,QAAQ,CAAE,kBAACF,KAAK,CAAK,CACnBV,WAAW,CAACU,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACjC,CAAE,EACF,GACE,cACN,eAAQ,OAAO,CAAET,UAAW,0BAAsB,GAC9C,EACF,cACM,aAAK,SAAS,CAAET,MAAM,CAACmB,IAAK,4BACvB,aAAK,iEAA8C,aAAK,OACvD,cACN,aAAK,SAAS,CAAEnB,MAAM,CAACoB,MAAO,yCACZ,iCAAI,UAAG,IAAI,CAAC,oCAAoC,CAAC,MAAM,CAAC,QAAQ,yBAAgB,EAAK,iFACtD,wCAAyB,sGAAqF,aAAK,GAC9J,GACA,CAEtB,CAEA,cAAenB,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}